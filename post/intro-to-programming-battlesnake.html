<!DOCTYPE html><html class="dark" lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Intro to programming: implementing a snake AI üêç</title><meta property="og:title" content="Introduction to programming with snake AI"/><meta property="og:description" content="An introduction to programming with the goal of implementing an AI that will compete in the developer game Battlesnake"/><meta property="og:image" content="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fblog.battlesnake.com%2Fcontent%2Fimages%2F2021%2F06%2FMediumSocial-1.png&amp;f=1&amp;nofb=1"/><meta name="next-head-count" content="6"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/3e886ac8a4188444.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3e886ac8a4188444.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-a054bbf31fb90f6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-88baa32955051e93.js" defer=""></script><script src="/_next/static/chunks/475-3386c5947d364057.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-1973c0700051453e.js" defer=""></script><script src="/_next/static/nVgfPPrwPQ91l7qQQtTML/_buildManifest.js" defer=""></script><script src="/_next/static/nVgfPPrwPQ91l7qQQtTML/_ssgManifest.js" defer=""></script><script src="/_next/static/nVgfPPrwPQ91l7qQQtTML/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV37MOzlojwUKaJO.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVT7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVz7MOzlojwUKaJO.woff) format('woff');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVP7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV77MOzlojwUKaJO.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v17/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVD7MOzlojwUKQ.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="dark:bg-neutral-900 flex flex-col min-h-screen"><header class="bg-neutral-200 dark:bg-black py-4 px-8"><div class="container max-w-3xl mx-auto flex justify-between"><a class="no-underline my-auto" href="/">~/</a><span class="hidden sm:block mx-auto my-auto text-green-600 dark:text-yellow-600">cochaviz@bunkernet.dev</span> <span class="block sm:hidden mx-auto my-auto text-green-600 dark:text-yellow-600">cochaviz</span> <div class="flex gap-x-2"><a href="https://www.github.com/zoharcochavi"> github </a><a href="https://www.linkedin.com/in/cochaviz"> linkedin </a></div></div></header><main class="container max-w-2xl"><div><div id="button" class="text-left px-0"><a class="text-4xl no-underline fixed bottom-10 right-10 z-0 bg-neutral-900 px-3 py-1 border-dashed border-2" href="#TOP">‚Üë</a></div><h1>Intro to programming: implementing a snake AI üêç</h1><div><nav class="table-of-contents"><ol><li><a href="#introduction">Introduction</a><ol><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#structure">Structure</a></li></ol></li><li><a href="#battlesnake">Battlesnake</a><ol><li><a href="#how-battlesnake-works">How Battlesnake works</a></li><li><a href="#creating-our-first-snake">Creating our first snake</a></li><li><a href="#how-battlesnake-actually-works">How Battlesnake actually works</a></li></ol></li><li><a href="#creating-out-web-service">Creating out web service</a></li></ol></nav><h2 id="introduction" tabindex="-1">Introduction</h2>
<p>In this post I'll walk you through concepts of programming and application
development by example of an AI  that will play the game
<a href="https://play.battlesnake.com/">Battlesnake</a>. The aim of this tutorial is to
help you step beyond the 'programming a calculator' phase. You know what
language you want to learn, have a grasp of basic syntax and know how logic in
programming works (e.g. if statements). But what now? Well, writing an AI üòé. We
will cover:</p>
<ul>
<li>problem representation and solving (algorithms and data structures)</li>
<li>version control (<a href="https://git-scm.com">git</a> and
<a href="https://www.github.com">GitHub</a>)</li>
<li>some high-level concepts regarding web services
(<a href="https://en.wikipedia.org/wiki/API">APIs</a>)</li>
<li>setting up a server with <a href="https://www.heroku.com">Heroku</a></li>
</ul>
<p>Battlesnake is a great place to start from. Firstly, because it touches upon a
lot of different concepts in software development.  Secondly, your AI will
battle against that of other people and there are leaderboards to show you how
well it performs. This means that you can see your snake improve with your
programming abilities!</p>
<p>I can hear you ask: &quot;Great, but what language are we gonna be programming in?&quot;.
Since we are essentially  creating a <a href="https://en.wikipedia.org/wiki/Web_service">web
service</a>, you can do this in any
language you want!  The Battlesnake devs and the community have created some
<a href="https://docs.battlesnake.com/references/starter-projects">starter projects</a>
which will help you get started in minutes. If you language is in there, great!
Otherwise, don't worry.  I'll be explaining everything in <a href="https://go.dev/">Go</a>,
but the concepts are the same so you can follow along in any language.  I
understand it might be confusing to understand what is language-specific and
what isn't, so I'll make sure keep concepts and  implementation separate.</p>
<h3 id="prerequisites" tabindex="-1">Prerequisites</h3>
<p>The tutorial assumes that you are a beginner, but that you have some basic
knowledge about programming.  More specifically, you</p>
<ul>
<li><strong>have an environment</strong> in which you can write and run code (i.e. an IDE)</li>
<li><strong>know how use logic</strong> in you programming language of choice (e.g. if-statements)</li>
<li>know how to use any of: <strong>classes/objects/structs</strong> (if you language supports
those)</li>
<li><strong>have made a couple of small practice projects</strong> (not necessary, but highly
recommended for fluency)</li>
</ul>
<p>If some of these don't apply to you, I would highly encourage you to pick up a
basic course on <a href="https://www.codecademy.com/">codecademy</a> or follow some
tutorials on youtube. Create your first couple of little projects, and then come
back! Do feel free to keep on looking, maybe you're a lot smarter than you (or
I) think you are.</p>
<h3 id="structure" tabindex="-1">Structure</h3>
<p>We will cover a wide range of topics, so I will try to keep the structure as
consistent and easy to follow as possible.  Like mentioned before, while I will
be using Go to illustrate examples, I will try to keep all language-dependent
parts separate.</p>
<p>First, I'll introduce the game, Battlesnake, rules and the different tools we'll
need.  Then we'll touch upon web services and APIs; how our application will
communicate with the Battlesnake server.  Following that, I'll introduce
software to manage different versions of your code, and a platform to upload
your code to.  Finally, we will spin up a server which will use the code we've
uploaded previously to run our snake on!</p>
<p>You are, of course, free to stop at any moment and resume at a later date.
Actually, I highly encourage this! Take breaks regularly, especially if things
don't seem to work when they should... üêõ. We'll cover a lot of material, so
buckle up, grab some snacks, and let's get going üöÄ!</p>
<h2 id="battlesnake" tabindex="-1">Battlesnake</h2>
<p><a href="https://play.battlesnake.com/">Battlesnake</a> is a developer-oriented game,
meaning that everything in, about, and around the game is made by developers,
for developers. This means that there are a lot of resources out there that can
help us out.  Best example is, of course, the original <a href="https://docs.battlesnake.com/">Battlesnake
documentation</a>, which I encourage you to read and
refer to whenever you're lost before trying to <em>DuckDuckGo</em> it.</p>
<h3 id="how-battlesnake-works" tabindex="-1">How Battlesnake works</h3>
<p>The Battlesnake game rules are simple. In the default game mode, the goal is to
be the last-snake-standing among a group of  three other snakes. Besides that,
the normal snake rules apply:</p>
<ol>
<li>don't run into walls</li>
<li>don't run into snakes (you and others)</li>
<li>eating food makes you grow üçé</li>
</ol>
<p>There are some other edge-cases to consider (e.g. what do you do when heads
collide), but these don't matter much for our purposes. Please refer to the
official documentation if you want to learn more.</p>
<h3 id="creating-our-first-snake" tabindex="-1">Creating our first snake</h3>
<p>Enough talking! Let's create a snake! To do this, we'll first need to create an
account. One option is to create an account with GitHub. Choose this one. Like
mentioned before, we'll use this platform to host our code, so we need an
account for that anyway. <a href="https://github.com/signup">Create an account</a> for
GitHub, then head over to Battlesnake to <a href="https://play.battlesnake.com/login/">create an
account</a> and select the <strong>Sign in with
GitHub</strong> button.</p>
<p>Awesome, now we can head over to Battlesnake to <a href="https://play.battlesnake.com/account/snakes/create/">create a new
snake</a>. Give it a name (I
name my snakes after Lord of the Rings characters)! And... Huh? A URL? Yes, a
URL. This is where the fun begins. For now we'll cancel, since the URL is a
required field, but head to next section and I'll explain what's going on.</p>
<h3 id="how-battlesnake-actually-works" tabindex="-1">How Battlesnake <em>actually</em> works</h3>
<p>The reason why we need to provide a URL when creating a snake, is because the
snake is essentially a <a href="https://en.wikipedia.org/wiki/Web_service">web service</a>.
I briefly mentioned this in the introduction, but now I'll elaborate on what
that actually means.</p>
<p>To put it concretely, our snake will run on its own remote computer (server),
the Battlesnake game server will send us the current state of the game (location
of all the snake, food, size of the field, etc.) and ask us what our next move
is.  We then send a response (indicated <code>{response}</code> in the diagram), this
simply contains the action: &quot;up&quot;, &quot;down&quot;, &quot;left&quot;, or &quot;right&quot;. But for the
Battlesnake server to reach us we to tell it our location, the URL. If you would
this manually, this is the equivalent of typing the URL, let's say
<code>my-awesome-snake.dev</code>, and appending <code>/move</code> to it, giving us
<code>my-awesome-snake.dev/move</code>. This is what we call an
<a href="https://en.wikipedia.org/wiki/Communication_endpoint">endpoint</a>. There is also
a endpoint for indicating that we want to start to game, which would be
<code>my-awesome-snake.dev/start</code>. And one for ending the game, <code>/end</code>. You get the
idea.</p>
<figure><img src="/images/post/intro-to-programming-battlesnake/transaction-diagram.svg" alt="transaction
diagram"><figcaption>Transaction diagram of the requests and responses made during a Battlesnake
game. Here to the endpoints <strong>/start</strong>, <strong>/move</strong>, and <strong>/end</strong></figcaption></figure>
<p>As you can imagine, there is no real need to send any info back to the
Battlesnake server when it send a web-request to our snake on <code>/end</code>, telling it
to end the game. But we do definitely need to send a response when we've been
asked to make a move. Just like we really need to receive some information about
the game, for example, what moves the others have made. The specification for
what type of requests we need to handle (does the request contain information?
Do we need to send anything back; give a response?), as well as the format that
the information is in (e.g. a two-dimensional array representing the board) is
called an <a href="https://en.wikipedia.org/wiki/API">Application Programming Interface, or
API</a>.</p>
<p>Having an API is great, because it means that <strong>two programs can
communicate, without them needing to know exactly how the other works</strong>. Since
the only import thing is that they know what to expect when they ask the other
something. Just as they know what to provide in order to make sure the other can
successfully perform their required task. This is exactly the reason why you
should be able to program in any language you want! <strong>As long as you adhere to
the API specification, you can implement your snake in anything you want</strong>.</p>
<p>Of course, the Battlesnake documentation also <a href="https://docs.battlesnake.com/references/api">contains a specification for the
API of the snake</a>. Go and see if
you can find the endpoints mentioned before.  There is actually one more
endpoint I didn't mention, try to see if you can find it and figure out what it
does!</p>
<h2 id="creating-out-web-service" tabindex="-1">Creating out web service</h2>
</div></div></main><footer class="bg-neutral-200 dark:bg-black mt-8 py-4"><div class="container mx-auto text-neutral-400 flex justify-center">¬© 2022 - Zohar Cochavi</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Intro to programming: implementing a snake AI üêç","metaTitle":"Introduction to programming with snake AI","metaDesc":"An introduction to programming with the goal of implementing an AI that will compete in the developer game Battlesnake","metaImg":"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fblog.battlesnake.com%2Fcontent%2Fimages%2F2021%2F06%2FMediumSocial-1.png\u0026f=1\u0026nofb=1","date":"2022-02-16","tags":["wip","battlesnake","tutorial","beginner/novice","ai"]},"content":"\n[[toc]]\n\n## Introduction\n\nIn this post I'll walk you through concepts of programming and application\ndevelopment by example of an AI  that will play the game\n[Battlesnake](https://play.battlesnake.com/). The aim of this tutorial is to\nhelp you step beyond the 'programming a calculator' phase. You know what\nlanguage you want to learn, have a grasp of basic syntax and know how logic in\nprogramming works (e.g. if statements). But what now? Well, writing an AI :sunglasses:. We\nwill cover:\n\n- problem representation and solving (algorithms and data structures)\n- version control ([git](https://git-scm.com) and\n  [GitHub](https://www.github.com))\n- some high-level concepts regarding web services\n  ([APIs](https://en.wikipedia.org/wiki/API))\n- setting up a server with [Heroku](https://www.heroku.com)\n\n\nBattlesnake is a great place to start from. Firstly, because it touches upon a\nlot of different concepts in software development.  Secondly, your AI will\nbattle against that of other people and there are leaderboards to show you how\nwell it performs. This means that you can see your snake improve with your\nprogramming abilities!\n\nI can hear you ask: \"Great, but what language are we gonna be programming in?\".\nSince we are essentially  creating a [web\nservice](https://en.wikipedia.org/wiki/Web_service), you can do this in any\nlanguage you want!  The Battlesnake devs and the community have created some\n[starter projects](https://docs.battlesnake.com/references/starter-projects)\nwhich will help you get started in minutes. If you language is in there, great!\nOtherwise, don't worry.  I'll be explaining everything in [Go](https://go.dev/),\nbut the concepts are the same so you can follow along in any language.  I\nunderstand it might be confusing to understand what is language-specific and\nwhat isn't, so I'll make sure keep concepts and  implementation separate.\n\n### Prerequisites\n\nThe tutorial assumes that you are a beginner, but that you have some basic\nknowledge about programming.  More specifically, you\n\n- **have an environment** in which you can write and run code (i.e. an IDE)\n- **know how use logic** in you programming language of choice (e.g. if-statements)\n- know how to use any of: **classes/objects/structs** (if you language supports\n  those)\n- **have made a couple of small practice projects** (not necessary, but highly\n  recommended for fluency)\n\nIf some of these don't apply to you, I would highly encourage you to pick up a\nbasic course on [codecademy](https://www.codecademy.com/) or follow some\ntutorials on youtube. Create your first couple of little projects, and then come\nback! Do feel free to keep on looking, maybe you're a lot smarter than you (or\nI) think you are.\n\n### Structure\n\nWe will cover a wide range of topics, so I will try to keep the structure as\nconsistent and easy to follow as possible.  Like mentioned before, while I will\nbe using Go to illustrate examples, I will try to keep all language-dependent\nparts separate.\n\nFirst, I'll introduce the game, Battlesnake, rules and the different tools we'll\nneed.  Then we'll touch upon web services and APIs; how our application will\ncommunicate with the Battlesnake server.  Following that, I'll introduce\nsoftware to manage different versions of your code, and a platform to upload\nyour code to.  Finally, we will spin up a server which will use the code we've\nuploaded previously to run our snake on!\n\nYou are, of course, free to stop at any moment and resume at a later date.\nActually, I highly encourage this! Take breaks regularly, especially if things\ndon't seem to work when they should... :bug:. We'll cover a lot of material, so\nbuckle up, grab some snacks, and let's get going :rocket:!\n\n## Battlesnake\n\n[Battlesnake](https://play.battlesnake.com/) is a developer-oriented game,\nmeaning that everything in, about, and around the game is made by developers,\nfor developers. This means that there are a lot of resources out there that can\nhelp us out.  Best example is, of course, the original [Battlesnake\ndocumentation](https://docs.battlesnake.com/), which I encourage you to read and\nrefer to whenever you're lost before trying to _DuckDuckGo_ it.\n\n### How Battlesnake works\n\nThe Battlesnake game rules are simple. In the default game mode, the goal is to\nbe the last-snake-standing among a group of  three other snakes. Besides that,\nthe normal snake rules apply:\n\n1. don't run into walls\n2. don't run into snakes (you and others)\n3. eating food makes you grow :apple:\n\nThere are some other edge-cases to consider (e.g. what do you do when heads\ncollide), but these don't matter much for our purposes. Please refer to the\nofficial documentation if you want to learn more. \n\n### Creating our first snake\n\nEnough talking! Let's create a snake! To do this, we'll first need to create an\naccount. One option is to create an account with GitHub. Choose this one. Like\nmentioned before, we'll use this platform to host our code, so we need an\naccount for that anyway. [Create an account](https://github.com/signup) for\nGitHub, then head over to Battlesnake to [create an\naccount](https://play.battlesnake.com/login/) and select the **Sign in with\nGitHub** button.\n\nAwesome, now we can head over to Battlesnake to [create a new\nsnake](https://play.battlesnake.com/account/snakes/create/ ). Give it a name (I\nname my snakes after Lord of the Rings characters)! And... Huh? A URL? Yes, a\nURL. This is where the fun begins. For now we'll cancel, since the URL is a\nrequired field, but head to next section and I'll explain what's going on.\n\n### How Battlesnake _actually_ works\n\nThe reason why we need to provide a URL when creating a snake, is because the\nsnake is essentially a [web service](https://en.wikipedia.org/wiki/Web_service).\nI briefly mentioned this in the introduction, but now I'll elaborate on what\nthat actually means.\n\nTo put it concretely, our snake will run on its own remote computer (server),\nthe Battlesnake game server will send us the current state of the game (location\nof all the snake, food, size of the field, etc.) and ask us what our next move\nis.  We then send a response (indicated `{response}` in the diagram), this\nsimply contains the action: \"up\", \"down\", \"left\", or \"right\". But for the\nBattlesnake server to reach us we to tell it our location, the URL. If you would\nthis manually, this is the equivalent of typing the URL, let's say\n`my-awesome-snake.dev`, and appending `/move` to it, giving us\n`my-awesome-snake.dev/move`. This is what we call an\n[endpoint](https://en.wikipedia.org/wiki/Communication_endpoint). There is also\na endpoint for indicating that we want to start to game, which would be\n`my-awesome-snake.dev/start`. And one for ending the game, `/end`. You get the\nidea. \n\n![transaction\ndiagram](/images/post/intro-to-programming-battlesnake/transaction-diagram.svg\n\"Transaction diagram of the requests and responses made during a Battlesnake\ngame. Here to the endpoints **/start**, **/move**, and **/end**\")\n\nAs you can imagine, there is no real need to send any info back to the\nBattlesnake server when it send a web-request to our snake on `/end`, telling it\nto end the game. But we do definitely need to send a response when we've been\nasked to make a move. Just like we really need to receive some information about\nthe game, for example, what moves the others have made. The specification for\nwhat type of requests we need to handle (does the request contain information?\nDo we need to send anything back; give a response?), as well as the format that\nthe information is in (e.g. a two-dimensional array representing the board) is\ncalled an [Application Programming Interface, or\nAPI](https://en.wikipedia.org/wiki/API). \n\nHaving an API is great, because it means that **two programs can\ncommunicate, without them needing to know exactly how the other works**. Since\nthe only import thing is that they know what to expect when they ask the other\nsomething. Just as they know what to provide in order to make sure the other can\nsuccessfully perform their required task. This is exactly the reason why you\nshould be able to program in any language you want! **As long as you adhere to\nthe API specification, you can implement your snake in anything you want**.\n\nOf course, the Battlesnake documentation also [contains a specification for the\nAPI of the snake](https://docs.battlesnake.com/references/api). Go and see if\nyou can find the endpoints mentioned before.  There is actually one more\nendpoint I didn't mention, try to see if you can find it and figure out what it\ndoes! \n\n## Creating out web service\n\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"intro-to-programming-battlesnake"},"buildId":"nVgfPPrwPQ91l7qQQtTML","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script async="" src="//static.getclicky.com/101354370.js"></script><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101354370ns.gif"/></p></noscript></body></html>